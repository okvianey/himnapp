{"version":3,"file":"component---src-pages-index-js-b74461aea9e45f5880fe.js","mappings":"kQAeA,MAAMA,GAAkBC,EAAAA,EAAAA,IAAO,MAAPA,EAAcC,IAAA,IAAC,MAAEC,GAAOD,EAAA,MAAM,CACpDE,QAAS,GACTC,OAAQ,kBACRC,QAAS,OACTC,eAAgB,eAChBC,WAAY,SACZ,CAACL,EAAMM,YAAYC,KAAK,OAAQ,CAC9BC,cAAe,SACfH,WAAY,cAEf,IA2FYI,EAAOA,IAAMC,EAAAA,cAACC,EAAAA,EAAG,CAACC,MAAM,aACrC,UA1FkBC,IAAe,IAAd,KAAEC,GAAMD,EAEzB,MAAME,EAAaD,EAAKE,OAAOC,MACzBC,EAAmBH,GACnB,EAAEI,EAAS,EAACC,IAAgBC,EAAAA,EAAAA,UAAS,KACrC,EAAEC,EAAM,EAACC,IAAaF,EAAAA,EAAAA,UAAS,IA0BrC,OAnBAG,EAAAA,EAAAA,YAAU,KACaC,MACnB,IAAIC,EAAeJ,EAAMK,cAEzB,GAAID,EAAaE,OAAS,EAAG,CAC3B,IAAIC,EACJX,EAAiBY,QAAQC,GACvBA,EAAMC,YAAYpB,MAAMqB,SAASP,KAEnCN,EAAYS,EACd,MACET,EAAYL,EACd,EAGFU,EAAc,GACb,CAAEH,EAAOJ,EAAkBH,IAI9BL,EAAAA,cAACwB,EAAAA,QAAM,KACLxB,EAAAA,cAACyB,EAAAA,EAAG,KACFzB,EAAAA,cAACb,EAAe,KACda,EAAAA,cAAC0B,EAAAA,EAAU,CAACC,QAAQ,KAAKC,GAAI,GAAG,mBAChC5B,EAAAA,cAAC6B,EAAAA,EAAS,CAACd,aA7BIe,IACnBA,EAAEC,iBACFlB,EAASiB,EAAEE,OAAOC,MAAM,KA8BpBjC,EAAAA,cAACkC,EAAAA,EAAI,CACHC,GAAI,CAEFC,SAAU,SAGZ3B,EAASS,OAAS,EAEhBT,EAAS4B,KAAKC,IACZ,MAAMC,EAAQD,EAAKE,GAEnB,MAA8B,MAA1BF,EAAKhB,YAAYmB,KACXzC,EAAAA,cAAA,KAAG0C,IAAKH,IAGhBvC,EAAAA,cAAC2C,EAAAA,GAAQ,CAACD,IAAKH,EAAOK,gBAAc,EAACC,SAAO,GAC1C7C,EAAAA,cAAC8C,EAAAA,EAAc,CACbC,MAAM,UACNC,UAAWC,EAAAA,KACXC,GAAE,UAAYZ,EAAKhB,YAAYmB,MAE9BH,EAAKhB,YAAYpB,OAEX,IAIfF,EAAAA,cAAA,YAKD,C","sources":["webpack://himnapp/./src/pages/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link, graphql } from \"gatsby\";\nimport Layout from \"../components/layout\";\nimport Seo from \"../components/seo\";\nimport SearchBar from \"../components/searchBar\";\nimport { styled } from \"@mui/material/styles\";\nimport {\n  Box,\n  Typography,\n  List,\n  ListItem,\n  ListItemButton,\n} from \"@mui/material\";\n// import hymnsList from \"../assets/hymnsList.json\";\n\nconst StyledSearchBox = styled(\"div\")(({ theme }) => ({\n  padding: 20,\n  border: \"1px dashed grey\",\n  display: \"flex\",\n  justifyContent: \"space-evenly\",\n  alignItems: \"center\",\n  [theme.breakpoints.down(\"sm\")]: {\n    flexDirection: \"column\",\n    alignItems: \"flex-start\",\n  },\n}));\n\nconst IndexPage = ({ data }) => {\n\n  const himnosData = data.allMdx.nodes; \n  const himnarioCompleto = himnosData;\n  const [ himnario, setHimnario ] = useState([]);\n  const [ input, setInput ] = useState(\"\");\n\n  const handleInput = (e) => {\n    e.preventDefault();\n    setInput(e.target.value);\n  }\n\n  useEffect(() => {\n    const handleSearch = () => {\n      let inputToUpper = input.toUpperCase();\n      \n      if (inputToUpper.length > 0) {\n        let himnosFiltrados =\n        himnarioCompleto.filter((himno) =>\n          himno.frontmatter.title.includes(inputToUpper)\n          );\n        setHimnario(himnosFiltrados);\n      } else {\n        setHimnario(himnosData);\n      }\n    };\n\n    handleSearch();\n  }, [ input, himnarioCompleto, himnosData ])\n\n\n  return (\n  <Layout>\n    <Box>\n      <StyledSearchBox>\n        <Typography variant=\"h1\" mb={2}> Buscar himno: </Typography>\n        <SearchBar handleSearch={handleInput} />\n      </StyledSearchBox>\n        \n        <List\n          sx={{\n            // backgroundColor: \"background.default\",\n            overflow: \"auto\"\n        }}>\n        {\n          himnario.length > 0 ?\n            \n            himnario.map((node) => {\n              const keyId = node.id;\n\n              if (node.frontmatter.slug === \"0\") { \n                return (<p key={keyId}></p>)\n              }\n              return (\n                <ListItem key={keyId} disablePadding divider>\n                  <ListItemButton\n                    color=\"inherit\"\n                    component={Link}\n                    to={`/himno/${node.frontmatter.slug}`}\n                  >\n                    {node.frontmatter.title}\n                  </ListItemButton>\n                </ListItem>\n              );\n\n            }) :\n            <p></p>\n          }\n      </List>\n\n    </Box>\n  </Layout>\n  );\n};\n\nexport const query = graphql`\n  query {\n  allMdx(sort: {frontmatter: {order: ASC}}) {\n    nodes {\n      frontmatter {\n        title\n        slug\n        order\n      }\n      id\n    }\n  }\n}`\n\nexport const Head = () => <Seo title=\"Himnario\" />;\nexport default IndexPage;\n"],"names":["StyledSearchBox","styled","_ref","theme","padding","border","display","justifyContent","alignItems","breakpoints","down","flexDirection","Head","React","Seo","title","_ref2","data","himnosData","allMdx","nodes","himnarioCompleto","himnario","setHimnario","useState","input","setInput","useEffect","handleSearch","inputToUpper","toUpperCase","length","himnosFiltrados","filter","himno","frontmatter","includes","Layout","Box","Typography","variant","mb","SearchBar","e","preventDefault","target","value","List","sx","overflow","map","node","keyId","id","slug","key","ListItem","disablePadding","divider","ListItemButton","color","component","Link","to"],"sourceRoot":""}